# éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹éƒ¨ç½²ä¹‹å‰ï¼Œè¯·é€é¡¹æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š

## ğŸ“¦ é¡¹ç›®æ–‡ä»¶æ£€æŸ¥

- [ ] é¡¹ç›®åœ¨æœ¬åœ°å¯ä»¥æ­£å¸¸è¿è¡Œ
  ```bash
  cd /Users/jiangxu/Documents/code/historymap/cnkgraph.com-518
  python3 -m http.server 8080
  # è®¿é—® http://localhost:8080 æµ‹è¯•
  ```

- [ ] æ‰€æœ‰å¿…éœ€æ–‡ä»¶å­˜åœ¨ï¼š
  - [ ] `index.html`
  - [ ] `Api/travelData.json`
  - [ ] `js/js-poetlife.js`
  - [ ] `js/js-lib.js`
  - [ ] `css/bootstrap.min.css`
  - [ ] `images/` ç›®å½•
  - [ ] `map/` ç›®å½•

- [ ] æ•°æ®æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼ˆJSON æ— è¯­æ³•é”™è¯¯ï¼‰
  ```bash
  # éªŒè¯ JSON æ ¼å¼
  python3 -m json.tool cnkgraph.com-518/Api/travelData.json > /dev/null
  ```

## ğŸ”‘ é«˜å¾·åœ°å›¾ Key æ£€æŸ¥

- [ ] å·²æ³¨å†Œé«˜å¾·å¼€æ”¾å¹³å°è´¦å·ï¼ˆhttps://lbs.amap.com/ï¼‰
- [ ] å·²åˆ›å»º Web ç«¯åº”ç”¨
- [ ] å·²è·å– API Key
- [ ] å·²é…ç½® Referer ç™½åå•ï¼š
  - [ ] `jiangxu.net/*`
  - [ ] `www.jiangxu.net/*`
  - [ ] `localhost/*`ï¼ˆç”¨äºæœ¬åœ°æµ‹è¯•ï¼‰

## ğŸ–¥ï¸ æœåŠ¡å™¨è®¿é—®æ£€æŸ¥

- [ ] çŸ¥é“æœåŠ¡å™¨åœ°å€ï¼ˆIP æˆ–åŸŸåï¼‰
- [ ] çŸ¥é“æœåŠ¡å™¨ç”¨æˆ·å
- [ ] å¯ä»¥é€šè¿‡ SSH ç™»å½•æœåŠ¡å™¨
  ```bash
  ssh username@jiangxu.net
  ```
- [ ] æˆ–è€…æœ‰ FTP/SFTP è®¿é—®æƒé™

- [ ] çŸ¥é“ç½‘ç«™æ ¹ç›®å½•è·¯å¾„ï¼Œå¸¸è§è·¯å¾„ï¼š
  - [ ] `/var/www/jiangxu.net`
  - [ ] `/home/username/public_html`
  - [ ] `/www/wwwroot/jiangxu.net`ï¼ˆå®å¡”é¢æ¿ï¼‰
  - [ ] å…¶ä»–ï¼š__________________

- [ ] æœ‰æ–‡ä»¶ä¸Šä¼ æƒé™
- [ ] æœ‰æ–‡ä»¶ä¿®æ”¹æƒé™

## ğŸŒ åŸŸåå’ŒæœåŠ¡å™¨é…ç½®æ£€æŸ¥

- [ ] åŸŸå `jiangxu.net` æ­£å¸¸è§£æ
  ```bash
  ping jiangxu.net
  ```

- [ ] Web æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼ˆNginx æˆ– Apacheï¼‰
  ```bash
  # åœ¨æœåŠ¡å™¨ä¸Šæ£€æŸ¥
  sudo systemctl status nginx
  # æˆ–
  sudo systemctl status apache2
  ```

- [ ] å·²é…ç½® HTTPSï¼ˆæ¨èï¼‰
  - [ ] SSL è¯ä¹¦æœ‰æ•ˆ
  - [ ] è¯ä¹¦åŒ…å« `jiangxu.net` åŸŸå

## ğŸ”§ å·¥å…·å‡†å¤‡

è‡³å°‘å‡†å¤‡ä»¥ä¸‹ä¸€ç§æ–‡ä»¶ä¸Šä¼ æ–¹å¼ï¼š

- [ ] **å‘½ä»¤è¡Œå·¥å…·**ï¼ˆæ¨èï¼‰
  - [ ] `scp` å‘½ä»¤å¯ç”¨
  - [ ] `rsync` å‘½ä»¤å¯ç”¨ï¼ˆæœ€æ¨èï¼‰
  - [ ] SSH å¯†é’¥å·²é…ç½®ï¼ˆå¯é€‰ï¼Œé¿å…é‡å¤è¾“å…¥å¯†ç ï¼‰

- [ ] **å›¾å½¢ç•Œé¢å·¥å…·**
  - [ ] FileZilla å·²å®‰è£…
  - [ ] å…¶ä»– FTP å®¢æˆ·ç«¯

- [ ] **æœåŠ¡å™¨ç®¡ç†é¢æ¿**
  - [ ] å®å¡”é¢æ¿è®¿é—®æ­£å¸¸
  - [ ] cPanel æˆ–å…¶ä»–é¢æ¿

## ğŸ“ ä¿¡æ¯å‡†å¤‡è¡¨

è¯·å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼ˆéƒ¨ç½²æ—¶éœ€è¦ï¼‰ï¼š

| é¡¹ç›® | å€¼ | ç¤ºä¾‹ |
|------|-----|------|
| æœåŠ¡å™¨åœ°å€ | _________________ | jiangxu.net |
| æœåŠ¡å™¨ç”¨æˆ·å | _________________ | root æˆ– ubuntu |
| ç½‘ç«™æ ¹ç›®å½• | _________________ | /var/www/jiangxu.net |
| é«˜å¾·åœ°å›¾ Key | _________________ | a1b2c3d4e5f... |
| éƒ¨ç½²å­ç›®å½•å | _________________ | historymap |

æœ€ç»ˆè®¿é—®åœ°å€ï¼šhttps://___________/___________/
ï¼ˆä¾‹å¦‚ï¼šhttps://jiangxu.net/historymap/ï¼‰

## âœ… å…¨éƒ¨æ£€æŸ¥å®Œæˆå

å¦‚æœä»¥ä¸Šæ£€æŸ¥é¡¹éƒ½å·²å®Œæˆï¼Œæ‚¨å¯ä»¥å¼€å§‹éƒ¨ç½²äº†ï¼

### éƒ¨ç½²æ–¹å¼é€‰æ‹©ï¼š

**æ–¹å¼ä¸€ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰**
```bash
chmod +x deploy.sh
./deploy.sh
```

**æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²ï¼ˆæ›´å¯æ§ï¼‰**
æŒ‰ç…§ã€Šéƒ¨ç½²æ­¥éª¤-æ–¹æ¡ˆä¸€.mdã€‹æ–‡æ¡£é€æ­¥æ“ä½œ

**æ–¹å¼ä¸‰ï¼šä½¿ç”¨é™æ€æ‰˜ç®¡ï¼ˆé›¶é…ç½®ï¼‰**
ä½¿ç”¨ Vercelã€Netlify ç­‰æœåŠ¡ï¼ˆå‚è€ƒ DEPLOYMENT_GUIDE.mdï¼‰

---

## ğŸ†˜ å¦‚æœæ£€æŸ¥ä¸­å‘ç°é—®é¢˜

### é—®é¢˜ï¼šæ²¡æœ‰æœåŠ¡å™¨è®¿é—®æƒé™
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. è”ç³»æœåŠ¡å™¨ç®¡ç†å‘˜è·å–æƒé™
2. æˆ–ä½¿ç”¨é™æ€æ‰˜ç®¡æœåŠ¡ï¼ˆVercelã€GitHub Pagesï¼‰

### é—®é¢˜ï¼šä¸çŸ¥é“ç½‘ç«™æ ¹ç›®å½•
**æŸ¥æ‰¾æ–¹æ³•**ï¼š
```bash
# SSH ç™»å½•æœåŠ¡å™¨å
# æ–¹æ³• 1: æŸ¥çœ‹ Nginx é…ç½®
grep "root" /etc/nginx/sites-enabled/*

# æ–¹æ³• 2: æŸ¥çœ‹ Apache é…ç½®
grep "DocumentRoot" /etc/apache2/sites-enabled/*

# æ–¹æ³• 3: æŸ¥æ‰¾ index.html ä½ç½®
find /var /home -name "index.html" 2>/dev/null | grep jiangxu
```

### é—®é¢˜ï¼šé«˜å¾·åœ°å›¾ Key é…ç½®å¤±è´¥
**å¸¸è§åŸå› **ï¼š
1. ç™½åå•æ ¼å¼é”™è¯¯ â†’ ç¡®ä¿æ ¼å¼ä¸º `domain.com/*`
2. Key ç±»å‹ä¸å¯¹ â†’ å¿…é¡»æ˜¯ Web ç«¯ï¼ˆJS APIï¼‰ç±»å‹
3. é…ç½®æœªç”Ÿæ•ˆ â†’ ç­‰å¾… 1-2 åˆ†é’Ÿ
4. ä½¿ç”¨äº†é”™è¯¯çš„ Key â†’ å¤åˆ¶æ­£ç¡®çš„ Key

### é—®é¢˜ï¼šSSH è¿æ¥å¤±è´¥
**æ’æŸ¥æ­¥éª¤**ï¼š
```bash
# 1. æµ‹è¯•ç½‘ç»œè¿æ¥
ping jiangxu.net

# 2. æµ‹è¯• SSH ç«¯å£ï¼ˆé»˜è®¤ 22ï¼‰
telnet jiangxu.net 22

# 3. æ£€æŸ¥ SSH é…ç½®
ssh -v username@jiangxu.net

# 4. ä½¿ç”¨å¯†ç ç™»å½•ï¼ˆå¦‚æœå¯†é’¥å¤±è´¥ï¼‰
ssh -o PreferredAuthentications=password username@jiangxu.net
```

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿå¼€å§‹éƒ¨ç½²å§ï¼** ğŸš€

